(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f55bdaac"],{"181a":function(t,i,e){},c66f:function(t,i,e){"use strict";e.r(i);var o=function(){var t=this,i=t.$createElement,o=t._self._c||i;return o("div",{staticClass:"declaim-detail"},[o("div",{staticClass:"breadcrumb"},[o("div",[t._v("当前位置：")]),o("div",{on:{click:t.toPersonal}},[t._v("个人中心"),o("i",{staticClass:"el-icon-arrow-right"})]),o("div",{on:{click:t.toDeclaim}},[t._v("我的朗读"),o("i",{staticClass:"el-icon-arrow-right"})]),o("div",[t._v("详情")])]),o("div",{staticClass:"detail mt10"},[o("div",{staticClass:"card",on:{click:t.toDetail}},[o("materialCard",{attrs:{created_at:t.baseInfo.created_at,title:t.baseInfo.title,image:t.baseInfo.image,type:t.baseInfo.type,id:t.baseInfo.id}})],1),o("div",{staticClass:"player mt30"},[t.baseInfo.merge_audio?o("mediaPlay",{attrs:{type:t.avType,time:t.mediaTime,mediaUrl:t.baseInfo.merge_audio,lines:t.lines,showCaption:1==t.avInfo.length&&t.avInfo[0].subtitlesList.length>0,subtitlesList:t.avInfo[0].subtitlesList},on:{"update:time":function(i){t.mediaTime=i},lineUpdate:t.lineUpdate}}):t._e()],1),o("div",{staticClass:"option flex-between flex-center mt30"},[o("div",{staticClass:"option-left flex-center"},[o("div",{staticClass:"btn",on:{click:t.downloadMedia}},[o("img",{attrs:{src:e("cf5e"),alt:""}}),o("span",[t._v("下载音频")])]),o("div",{staticClass:"btn",staticStyle:{"margin-left":"0.625rem"},on:{click:function(i){t.subtitlesSectionShow=!0}}},[o("img",{attrs:{src:e("f248"),alt:""}}),o("span",[t._v("制作字幕")])]),o("div",{staticClass:"btn",staticStyle:{"margin-left":"0.625rem"},on:{click:function(i){t.dictationBoxShow=!0}}},[o("img",{attrs:{src:e("f248"),alt:""}}),o("span",[t._v("开始听写")])])]),o("div",{staticClass:"option-right flex-center"},[o("div",{staticClass:"btn",on:{click:function(i){t.delDeclaimShow=!0}}},[o("span",[t._v("删除朗读")])]),o("div",{staticClass:"btn bg-yellow",staticStyle:{"margin-left":"0.625rem"},on:{click:t.toDetail}},[o("span",[t._v("重新朗读")])])])]),o("div",{staticClass:"lsit mt10"},t._l(t.textInfo,(function(i){return o("div",{staticClass:"mt10 "},[i.read?o("div",{staticClass:"list-item"},[o("div",{staticClass:"content"},[t._v(t._s(i.content))]),o("img",{attrs:{src:e("a2f1"),alt:""},on:{click:function(e){return t.setAudioSrc(i.read)}}})]):t._e()])})),0)]),t.subtitlesSectionShow?o("subtitlesSectionBox",{attrs:{visible:t.subtitlesSectionShow,type:"3",reType:"1",id:t.baseInfo.id,mediaUrl:t.baseInfo.merge_audio},on:{"update:visible":function(i){t.subtitlesSectionShow=i}}}):t._e(),t.dictationBoxShow?o("dictationBox",{attrs:{visible:t.dictationBoxShow,info:t.dictationInfo,type:"3",reType:"1",source_id:t.baseInfo.id},on:{"update:visible":function(i){t.dictationBoxShow=i},submit:t.submitSub,"save-log":t.saveDictationLog}}):t._e(),t.tagBoxShow?o("tagBox",{attrs:{visible:t.tagBoxShow,selectedTag:t.dictationInfo.dictation_tag},on:{"update:visible":function(i){t.tagBoxShow=i},save:t.saveDictation}}):t._e(),t.delDeclaimShow?o("hfxDialog",{attrs:{content:t.delDialogContent,visible:t.delDeclaimShow},on:{"update:visible":function(i){t.delDeclaimShow=i}},scopedSlots:t._u([{key:"footer",fn:function(){return[o("div",{staticClass:"flex-between dialog-footer"},[o("div",{on:{click:function(i){t.delDeclaimShow=!1}}},[t._v("取消")]),o("div",{on:{click:t.delDeclaim}},[t._v("确认")])])]},proxy:!0}],null,!1,4186914972)}):t._e(),o("audio",{ref:"declaimAudio",staticStyle:{display:"none"},on:{canplay:t.AudioPlay}})],1)},n=[],a=e("9042"),s=e("1951"),c=e("01e0"),l=e("891d"),d=e("9dcc"),r=e("bf00"),u=e("751a"),f={name:"declaim-detail-course",components:{materialCard:s["a"],mediaPlay:c["a"],hfxDialog:a["a"],subtitlesSectionBox:l["a"],dictationBox:d["a"],tagBox:r["a"]},data:function(){return{baseInfo:{},avInfo:[],textInfo:[],countList:[],mediaTime:"00:00",lines:[],lyric:"",delDialogContent:"删除朗读内容",delDeclaimShow:!1,subtitlesSectionShow:!1,dictationBoxShow:!1,tagBoxShow:!1,audioSrc:"",content:"",timer:0,dictationInfo:{},dictation_tag:""}},computed:{avType:function(){var t="audio";return 2!=this.baseInfo.type&&5!=this.baseInfo.type||(t="video"),t}},created:function(){this.getDetail(),this.getDictationInfo(),this.getTagList()},methods:{getDetail:function(){var t=this,i={source_id:this.$route.query.id};this.$request("/goodCourse/myGoodCourseInfo",i,"POST").then((function(i){t.baseInfo=i.content.info,t.textInfo=i.content.textInfo,t.avInfo=i.content.avInfo,console.log(t.avInfo),t.countList=i.content.countList})).catch((function(t){}))},downloadMedia:function(t,i){Object(u["a"])("http://app.xingtingyi.com/ann1030-2.mp4")},toDetail:function(){this.$router.push({path:"/course/materialDetail/".concat(this.$route.query.id)})},lineUpdate:function(t){},delDeclaim:function(){var t=this;this.delDeclaimShow=!1;var i={};i.source_id=this.$route.query.id,i.sourceType=3,i.doType=2,this.$request("/user/delDosource",i,"POST").then((function(i){t.$message.closeAll(),t.$message({message:i.msg,type:"success"}),t.getDetail()})).catch((function(t){}))},toPersonal:function(){},toDeclaim:function(){this.$router.push({path:"/personal/declaim",query:{type:3}})},setAudioSrc:function(t){this.audioSrc=t,this.$refs.declaimAudio.src=t},AudioPlay:function(){this.$refs.declaimAudio.play()},saveDictationLog:function(t,i){t&&(this.content=t),i&&(this.timer=i);var e={};e.source_id=this.baseInfo.id,e.content=this.content,e.time=this.timer,e.dictation_tag=this.dictation_tag,this.$request("/user/dictationLog",e,"POST").then((function(t){})).catch((function(t){}))},submitSub:function(t,i){this.content=t,this.timer=i,this.tagBoxShow=!0},saveDictation:function(t){var i=this,e={};e.source_id=this.baseInfo.id,e.content=this.content,e.time=this.timer,e.dictation_tag=t.join(","),e.type=3,this.dictationBoxShow=!1,this.tagBoxShow=!1,this.$request("/user/textDictation",e,"POST").then((function(t){i.$message.closeAll(),i.$message({message:t.msg,type:"success"}),i.$store.commit("setTBoxUpdate"),i.$store.commit("setSignBoxShow")})).catch((function(t){}))},getDictationInfo:function(){var t=this,i={};i.source_id=this.$route.query.id,i.type=3,this.$request("/user/textDictationInfo",i,"POST").then((function(i){t.dictationInfo=i.content.dictationInfo})).catch((function(t){}))},getTagList:function(){var t=this;this.$request("/source/dictationTagList",{},"POST").then((function(i){var e=i.content.dictationTag;t.$store.commit("setTagList",e)})).catch((function(t){}))}}},h=f,m=(e("dbc8"),e("5511")),v=Object(m["a"])(h,o,n,!1,null,"2d7329c6",null);i["default"]=v.exports},dbc8:function(t,i,e){"use strict";var o=e("181a"),n=e.n(o);n.a}}]);