(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-77a75b15"],{"2fd4":function(t,e,a){var i=a("fb68"),s=a("75c4"),n=a("cb3d")("match");t.exports=function(t){var e;return i(t)&&(void 0!==(e=t[n])?!!e:"RegExp"==s(t))}},"3b57":function(t,e,a){t.exports=a.p+"img/uploadSingel.0c07cfd9.png"},"59af":function(t,e,a){"use strict";var i=a("9e58"),s=a.n(i);s.a},"79e2":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAzklEQVRYR2NkIB+wA7WuAuK/QBwOxL/JMYqRHE1QPb5AehOU7QGkd5JjFiUOCANauBJqaRCQXj/qgNEQGA2B0RAYDQFyQ4AfqHE5EOuSaAAXUL0QVM9bIP2dRP0XgeojQXWBHxBvJFEztZR7gxzACcT9QKxDoqkiQPXqUD03gDQoFEgBl4CKiyipDUOBBoDaAyAQDMTrSLEdpnbUAaMhMBoCoyEwGgKjIUBJCPgAK5TN0ErFE0jvoHdlBOodrwbif0AM6if+orcDyLEPQw8A58pDgCZWQJUAAAAASUVORK5CYII="},"8d46":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"add-material"},[i("div",{staticClass:"breadcrumb"},[i("div",[t._v("当前位置：")]),i("div",{on:{click:t.toHome}},[t._v("首页"),i("i",{staticClass:"el-icon-arrow-right"})]),i("div",{on:{click:t.toMaterial}},[t._v("素材专区"),i("i",{staticClass:"el-icon-arrow-right"})]),i("div",{on:{click:t.toPersonlMaterial}},[t._v("个人素材"),i("i",{staticClass:"el-icon-arrow-right"})]),i("div",[t._v("添加个人素材")])]),i("div",{staticClass:"form"},[i("div",{staticClass:"form-top"},[t._v("\n\t\t\t添加个人素材\n\t\t")]),i("div",{staticClass:"form-content"},[i("div",{staticClass:"tabs"},[i("el-button",{class:1==t.active?"active":"",attrs:{type:"primary"},on:{click:function(e){return t.select(1)}}},[t._v("音频/视频素材")]),i("el-button",{class:2==t.active?"active":"",attrs:{type:"primary"},on:{click:function(e){return t.select(2)}}},[t._v("文本素材")])],1),i("div",{staticClass:"tips"},[t._v("\n\t\t\t\t目前不提供云端服务，二次学习需要重新上传素材\n\t\t\t")]),i("div",{staticClass:"title"},[i("div",{staticClass:"lable"},[t._v("\n\t\t\t\t\t标题\n\t\t\t\t")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],attrs:{type:"text",placeholder:"请输入文章标题"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}})]),i("div",{staticClass:"topimg"},[t._m(0),i("div",{on:{click:t.uploadImg}},[t.poster?i("img",{attrs:{src:t.poster,alt:""}}):i("img",{attrs:{src:a("3b57"),alt:""}})]),i("input",{ref:"uploadImg",staticStyle:{display:"none"},attrs:{type:"file",accept:"image/*"},on:{change:t.imgChange}})]),1==t.active?i("div",{staticClass:"upload"},[i("div",{staticClass:"lable",staticStyle:{"margin-top":"1.25rem"}},[t._v("\n\t\t\t\t\t音频/视频素材\n\t\t\t\t")]),i("div",{staticClass:"up-btn",on:{click:t.uploadFile}},[i("img",{attrs:{src:a("fff6"),alt:""}}),i("span",{staticStyle:{"margin-left":"1rem"}},[t._v("上传音频/视频素材")])]),i("div",{staticClass:"tips"},[t._v("\n\t\t\t\t\t音视频文件大小不超过100M，支持格式：音频（mp3，ogg，webm，wav）视频（mp4，ogg，webm）\n\t\t\t\t")]),i("input",{ref:"uploadFile",staticStyle:{display:"none"},attrs:{type:"file",accept:"audio/*,video/*"},on:{change:t.fileChange}})]):i("div",[t._l(t.paragraphs,(function(e,a){return i("div",{staticClass:"paragraph"},[i("div",{staticClass:"title",staticStyle:{"margin-bottom":"0.625rem"}},[t._v("段落文本"+t._s(a+1))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.content,expression:"item.content"}],attrs:{type:"text"},domProps:{value:e.content},on:{input:function(a){a.target.composing||t.$set(e,"content",a.target.value)}}}),a>0?i("span",{on:{click:function(e){return t.delParagraph(a)}}},[t._v("删除")]):t._e()])})),i("div",{staticClass:"add-paragraph",on:{click:t.addParagraph}},[i("img",{attrs:{src:a("79e2"),alt:""}}),i("span",{staticStyle:{"margin-left":"0.75rem"}},[t._v("添加段落")])])],2),i("el-button",{staticClass:"submit",on:{click:t.submit}},[t._v("\n\t\t\t\t提交\n\t\t\t")])],1)])])},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flex"},[a("div",{staticClass:"lable",staticStyle:{margin:"0"}},[t._v("素材封面图")]),a("div",{staticClass:"tip"},[t._v("非必填，建议尺寸750*500像素")])])}],n=(a("9dd9"),a("cc57"),{name:"addMaterial",components:{},data:function(){return{active:1,title:"",image:"",paragraphs:[{subtitle:"",content:""}],poster:"",formData:new FormData,sourceId:"0"}},methods:{toHome:function(){this.$router.push({path:"/"})},toMaterial:function(){this.$router.push({path:"/material/",query:{type:1}})},toPersonlMaterial:function(){this.$router.push({path:"/material",query:{type:2}})},toDetail:function(){this.$router.push({path:"/material/detailPerson/"+this.sourceId,query:{ismediaUrl:"1"}})},select:function(t){this.active!=t&&(this.active=t,this.initData())},initData:function(){this.title="",this.image="",this.paragraphs=[{subtitle:"",content:""}],this.poster="",this.formData=new FormData},uploadImg:function(){this.$refs.uploadImg.click()},uploadFile:function(){this.$refs.uploadFile.click()},imgChange:function(t){var e=this,a=t.target.files[0],i=new FileReader;i.readAsDataURL(a),i.onload=function(){e.poster=i.result},this.formData.append("image",a)},fileChange:function(t){var e=t.target.files[0],a=e.size,i=e.name,s=104857600;a>s&&(this.$message.closeAll(),this.$message({message:"请上传不大于100M的文件",type:"error"}));var n=["avi","wmv","mkv","mp4","mov","rm","3gp","flv","mpg","rmvb"];RegExp(".("+n.join("|")+")$","i").test(i.toLowerCase())?this.formData.append("type",2):this.formData.append("type",1);var o=URL.createObjectURL(e);this.$store.commit("setPersonMediaUrl",o)},addParagraph:function(){this.paragraphs.push({subtitle:"",content:""})},delParagraph:function(t){this.paragraphs.splice(t,1)},submit:function(){var t=this;if(this.formData.append("title",this.title),1==this.active)this.$request("/userSource/uploadSource",this.formData,"POST").then((function(e){t.$message.closeAll(),t.$message({message:e.msg,type:"success"}),t.sourceId=e.content.userSourceId,t.initData(),t.toDetail()})).catch((function(t){}));else{for(var e=0;e<this.paragraphs.length;e++)this.formData.append("content[".concat(e,"]"),this.paragraphs[e].content);this.$request("/userSource/uploadSourceText",this.formData,"POST").then((function(e){t.$message.closeAll(),t.$message({message:e.msg,type:"success"}),t.sourceId=e.content.userSourceId,t.initData(),t.toDetail()})).catch((function(t){}))}}}}),o=n,r=(a("59af"),a("5511")),c=Object(r["a"])(o,i,s,!1,null,"b1ce4fea",null);e["default"]=c.exports},"9dd9":function(t,e,a){var i=a("e7ad"),s=a("1e5b"),n=a("064e").f,o=a("2ea2").f,r=a("2fd4"),c=a("f1fe"),l=i.RegExp,u=l,p=l.prototype,d=/a/g,g=/a/g,m=new l(d)!==d;if(a("149f")&&(!m||a("238a")((function(){return g[a("cb3d")("match")]=!1,l(d)!=d||l(g)==g||"/a/i"!=l(d,"i")})))){l=function(t,e){var a=this instanceof l,i=r(t),n=void 0===e;return!a&&i&&t.constructor===l&&n?t:s(m?new u(i&&!n?t.source:t,e):u((i=t instanceof l)?t.source:t,i&&n?c.call(t):e),a?this:p,l)};for(var f=function(t){t in l||n(l,t,{configurable:!0,get:function(){return u[t]},set:function(e){u[t]=e}})},v=o(u),h=0;v.length>h;)f(v[h++]);p.constructor=l,l.prototype=p,a("bf16")(i,"RegExp",l)}a("1157")("RegExp")},"9e58":function(t,e,a){},cc57:function(t,e,a){var i=a("064e").f,s=Function.prototype,n=/^\s*function ([^ (]*)/,o="name";o in s||a("149f")&&i(s,o,{configurable:!0,get:function(){try{return(""+this).match(n)[1]}catch(t){return""}}})},fff6:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAB7ElEQVRYR+2XyysGURiHP6SInQ1F1vwDbkmyYGOnXDbCwiVKUayIFUUpwgbZiLKzQGGjXLKxwVYSK2VBlFyen44al/lmzoxbcerpzMw57/v+vvdcv5jID5eYEPFjsW2ERBiBhyC+wggYJ2CzCTpB3fKdAvoI1vMmYD/vvbYigmSglSCjLoHa+D5mI8JWQBXO58DN7pG2Gpj3K8JGQClOlyAebs3E6zaBBqjbIQHuoBxW/YjwKyAHZ+uQBPdQATewYoKUUWs1LEIcXEMJ7HqJ8CMgCyebkGKcNVBPgzLiFKBfXA9Tpt8FdSEcRRPhJSAD4y1IN06U8kHz/JEANXWBhkTlFArgxE2El4A1k0rZD0Onw5HSvmze9ewc8yHeO0zbhsPHOx1eAraxyIVZqAPN8pcSTYD8zkAtyEd+0AwkY6g5sPeBg2gC1F0iimAfLoMKcLPTd7c5EM3Gegj+BfyNDGi2ZsKx1eyJRLxWgZc7bXKnCq7TrRp0uZj0snK0hxHQhB9dYuYk4AzSYAF03PotYQTouK6E8zACtENql1PJgx2/yun3SsA5H1IDZEDxXg4mHUA25VMyYBPwbd9/Ab8zA1daFmEG1sJWy15H/fMyPIBsC+PP7HooAcWgPxu6Un9n0dV+zOtK9uWCflzAE8LNdA2e/SMPAAAAAElFTkSuQmCC"}}]);