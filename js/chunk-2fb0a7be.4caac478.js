(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2fb0a7be"],{"2a05":function(t,i,e){"use strict";e.r(i);var o=function(){var t=this,i=t.$createElement,o=t._self._c||i;return o("div",{staticClass:"declaim-detail"},[o("div",{staticClass:"breadcrumb"},[o("div",[t._v("当前位置：")]),o("div",{on:{click:t.toPersonal}},[t._v("个人中心"),o("i",{staticClass:"el-icon-arrow-right"})]),o("div",{on:{click:t.toDeclaim}},[t._v("我的朗读"),o("i",{staticClass:"el-icon-arrow-right"})]),o("div",[t._v("详情")])]),o("div",{staticClass:"detail mt10"},[o("div",{staticClass:"card",on:{click:t.toDetail}},[o("materialCard",{attrs:{created_at:t.sourceInfo.created_at,title:t.sourceInfo.title,image:t.sourceInfo.image,type:t.sourceInfo.type,id:t.sourceInfo.id}})],1),o("div",{staticClass:"tips mt20"},[t._v("\n\t\t\t目前不提供云端服务，二次学习需要重新上传素材\n\t\t")]),o("div",{staticClass:"option flex-between flex-center mt30"},[o("div",{staticClass:"option-left flex-center"},[o("div",{staticClass:"btn",on:{click:t.downloadMedia}},[o("img",{attrs:{src:e("cf5e"),alt:""}}),o("span",[t._v("下载音频")])]),o("div",{staticClass:"btn",staticStyle:{"margin-left":"0.625rem"},on:{click:function(i){t.subtitlesSectionShow=!0}}},[o("img",{attrs:{src:e("f248"),alt:""}}),o("span",[t._v("制作字幕")])]),o("div",{staticClass:"btn",staticStyle:{"margin-left":"0.625rem"},on:{click:function(i){t.dictationBoxShow=!0}}},[o("img",{attrs:{src:e("f248"),alt:""}}),o("span",[t._v("开始听写")])])]),o("div",{staticClass:"option-right flex-center"},[o("div",{staticClass:"btn",on:{click:function(i){t.delDeclaimShow=!0}}},[o("span",[t._v("删除朗读")])]),o("div",{staticClass:"btn bg-yellow",staticStyle:{"margin-left":"0.625rem"},on:{click:t.toDetail}},[o("span",[t._v("重新朗读")])])])]),o("div",{staticClass:"lsit mt10"},t._l(t.sourceText,(function(i){return o("div",{staticClass:"mt10 "},[i.readInfo?o("div",{staticClass:"list-item"},[o("div",{staticClass:"content"},[t._v(t._s(i.content))]),o("img",{attrs:{src:e("a2f1"),alt:""},on:{click:t.setAudioSrc}})]):t._e()])})),0)]),t.subtitlesSectionShow?o("subtitlesSectionBox",{attrs:{visible:t.subtitlesSectionShow,type:"3",reType:"2",id:t.sourceInfo.id,mediaUrl:t.subtitlesMediaUrl},on:{"update:visible":function(i){t.subtitlesSectionShow=i}}}):t._e(),t.dictationBoxShow?o("dictationBox",{attrs:{visible:t.dictationBoxShow,info:t.dictationInfo,type:"3",reType:"2",source_id:t.$route.query.id},on:{"update:visible":function(i){t.dictationBoxShow=i},submit:t.submitSub,"save-log":t.saveDictationLog}}):t._e(),t.tagBoxShow?o("tagBox",{attrs:{visible:t.tagBoxShow,selectedTag:t.dictationInfo.dictation_tag},on:{"update:visible":function(i){t.tagBoxShow=i},save:t.saveDictation}}):t._e(),t.delDeclaimShow?o("hfxDialog",{attrs:{content:t.delDialogContent,visible:t.delDeclaimShow},on:{"update:visible":function(i){t.delDeclaimShow=i}},scopedSlots:t._u([{key:"footer",fn:function(){return[o("div",{staticClass:"flex-between dialog-footer"},[o("div",{on:{click:function(i){t.delDeclaimShow=!1}}},[t._v("取消")]),o("div",{on:{click:t.delDeclaim}},[t._v("确认")])])]},proxy:!0}],null,!1,4186914972)}):t._e(),o("audio",{ref:"declaimAudio",staticStyle:{display:"none"},on:{canplay:t.AudioPlay}})],1)},n=[],s=e("1951"),a=e("01e0"),c=e("9042"),l=e("891d"),r=e("9dcc"),u=e("bf00"),d={name:"declaim-detail-person",components:{materialCard:s["a"],mediaPlay:a["a"],hfxDialog:c["a"],subtitlesSectionBox:l["a"],dictationBox:r["a"],tagBox:u["a"]},data:function(){return{sourceInfo:{},sourceText:[],mediaTime:"00:00",lines:[],lyric:"",timer:0,content:"",delDialogContent:"删除朗读内容",delDeclaimShow:!1,subtitlesSectionShow:!1,dictationBoxShow:!1,tagBoxShow:!1,subtitlesMediaUrl:"",audioSrc:"",dictationInfo:{}}},computed:{},created:function(){this.getDetail(),this.getDictationInfo(),this.getTagList()},methods:{getDetail:function(){var t=this,i={source_id:this.$route.query.id};this.$request("/userSource/userSourceInfo",i,"POST").then((function(i){t.sourceInfo=i.content.sourceInfo,t.sourceText=i,content.sourceText})).catch((function(t){}))},downloadMedia:function(t,i){downloadFile("http://app.xingtingyi.com/ann1030-2.mp4")},toDetail:function(){this.$router.push({path:"/material/detailPerson/".concat(this.$route.query.id)})},lineUpdate:function(t){},delDeclaim:function(){var t=this;this.delDeclaimShow=!1;var i={};i.source_id=this.$route.query.id,i.sourceType=1,i.doType=2,this.$request("/user/delDosource",i,"POST").then((function(i){t.$message.closeAll(),t.$message({message:i.msg,type:"success"}),t.getDetail()})).catch((function(t){}))},toPersonal:function(){},toDeclaim:function(){this.$router.push({path:"/personal/declaim",query:{type:2}})},setAudioSrc:function(t){this.audioSrc=t,this.$refs.declaimAudio.src=t},AudioPlay:function(){this.$refs.declaimAudio.play()},saveDictationLog:function(t,i){t&&(this.content=t),i&&(this.timer=i);var e={};e.source_id=this.$route.query.id,e.content=this.content,e.time=this.timer,e.dictation_tag=this.dictation_tag,this.$request("/user/dictationLog",e,"POST").then((function(t){})).catch((function(t){}))},submitSub:function(t,i){this.content=t,this.timer=i,this.tagBoxShow=!0},saveDictation:function(t){var i=this,e={};e.source_id=this.$route.query.id,e.content=this.content,e.time=this.timer,e.dictation_tag=t.join(","),e.type=2,this.dictationBoxShow=!1,this.tagBoxShow=!1,this.$request("/user/textDictation",e,"POST").then((function(t){i.$message.closeAll(),i.$message({message:t.msg,type:"success"}),i.getDetail(),i.getDictationInfo(),i.getTagList(),i.$store.commit("setSignBoxShow")})).catch((function(t){}))},getDictationInfo:function(){var t=this,i={};i.source_id=this.$route.query.id,i.type=2,this.$request("/user/textDictationInfo",i,"POST").then((function(i){t.dictationInfo=i.content.dictationInfo})).catch((function(t){}))},getTagList:function(){var t=this;this.$request("/source/dictationTagList",{},"POST").then((function(i){var e=i.content.dictationTag;t.$store.commit("setTagList",e)})).catch((function(t){}))}}},f=d,h=(e("6118"),e("4e82")),m=Object(h["a"])(f,o,n,!1,null,"36f7902c",null);i["default"]=m.exports},"52b3":function(t,i,e){},6118:function(t,i,e){"use strict";var o=e("52b3"),n=e.n(o);n.a}}]);